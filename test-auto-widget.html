<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapsy Widget - Auto-Init Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }

        .example-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .example-section h2 {
            color: #333;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .example-section pre {
            background: #f8f8f8;
            padding: 12px;
            border-radius: 4px;
            overflow-x: auto;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }

        .example-section code {
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        mapsy-widget {
            display: block;
            min-height: 500px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .manual-widget {
            display: block;
            min-height: 500px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .version-info {
            display: inline-block;
            padding: 4px 12px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            margin-left: 10px;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>
            Mapsy Widget Auto-Initialization Examples
            <span class="version-info" id="widget-version">Loading...</span>
        </h1>
        <p class="subtitle">The widget automatically finds and initializes all &lt;mapsy-widget&gt; elements on the page</p>

        <!-- Example 1: Basic auto-init -->
        <div class="example-section">
            <h2>Example 1: Basic Auto-Initialization</h2>
            <pre><code>&lt;mapsy-widget&gt;&lt;/mapsy-widget&gt;</code></pre>
            <mapsy-widget></mapsy-widget>
        </div>

        <!-- Example 2: With data attributes -->
        <div class="example-section">
            <h2>Example 2: With Data Attributes</h2>
            <pre><code>&lt;mapsy-widget
    data-api-url="http://localhost:8000/api"
    data-default-view="list"
    data-show-header="true"
    data-header-title="Store Locations"
    data-map-zoom-level="14"&gt;
&lt;/mapsy-widget&gt;</code></pre>
            <mapsy-widget
                data-api-url="http://localhost:8000/api"
                data-default-view="list"
                data-show-header="true"
                data-header-title="Store Locations"
                data-map-zoom-level="14">
            </mapsy-widget>
        </div>

        <!-- Example 3: With JSON config -->
        <div class="example-section">
            <h2>Example 3: With JSON Configuration</h2>
            <pre><code>&lt;mapsy-widget
    data-config='{"defaultView":"map","showHeader":true,"headerTitle":"Our Offices","primaryColor":"#10b981"}'&gt;
&lt;/mapsy-widget&gt;</code></pre>
            <mapsy-widget
                data-config='{"defaultView":"map","showHeader":true,"headerTitle":"Our Offices","primaryColor":"#10b981"}'>
            </mapsy-widget>
        </div>

        <!-- Example 4: Multiple widgets side by side -->
        <div class="example-section">
            <h2>Example 4: Multiple Widgets (Map vs List View)</h2>
            <pre><code>&lt;div class="grid"&gt;
    &lt;mapsy-widget data-default-view="map" data-header-title="Map View"&gt;&lt;/mapsy-widget&gt;
    &lt;mapsy-widget data-default-view="list" data-header-title="List View"&gt;&lt;/mapsy-widget&gt;
&lt;/div&gt;</code></pre>
            <div class="grid">
                <mapsy-widget
                    data-api-url="http://localhost:8000/api"
                    data-default-view="map"
                    data-header-title="Map View">
                </mapsy-widget>
                <mapsy-widget
                    data-api-url="http://localhost:8000/api"
                    data-default-view="list"
                    data-header-title="List View">
                </mapsy-widget>
            </div>
        </div>

        <!-- Example 5: Manual initialization -->
        <div class="example-section">
            <h2>Example 5: Manual Initialization with JavaScript</h2>
            <pre><code>&lt;div id="manual-widget" class="manual-widget"&gt;&lt;/div&gt;

&lt;script&gt;
    // Manual initialization with custom config
    window.MapsyWidget.init('#manual-widget', {
        apiUrl: 'http://localhost:8000/api',
        defaultView: 'map',
        showHeader: true,
        headerTitle: 'Manually Initialized Widget'
    });
&lt;/script&gt;</code></pre>
            <div id="manual-widget" class="manual-widget"></div>
        </div>
    </div>

    <!-- Load CSS -->
    <link rel="stylesheet" href="dist/style.css">

    <!-- Load the widget -->
    <script src="dist/mapsy-widget.min.js"></script>

    <script>
        // Wait for widget to be ready and display version
        setTimeout(function() {
            const versionEl = document.getElementById('widget-version');
            if (window.MapsyWidget && versionEl) {
                versionEl.textContent = 'v' + window.MapsyWidget.version;
            }

            // Example 5: Manual initialization
            if (window.MapsyWidget) {
                window.MapsyWidget.init('#manual-widget', {
                    apiUrl: 'http://localhost:8000/api',
                    defaultView: 'map',
                    showHeader: true,
                    headerTitle: 'Manually Initialized Widget'
                });
            }
        }, 500);
    </script>
</body>
</html>